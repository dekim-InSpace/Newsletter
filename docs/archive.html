
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì•„ì¹´ì´ë¸Œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  html, body {
    margin: 0;
    padding: 0;
  }

  body {
    font-family:-apple-system,BlinkMacSystemFont,"Apple SD Gothic Neo","ë§‘ì€ ê³ ë”•",system-ui,sans-serif;
    background:#0b1120;
    color:#e5e7eb;
  }

  .bg-video {
    display: block;
    filter: blur(2px) brightness(0.78) saturate(0.95);
    transform: scale(1.03);
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -3;
    opacity: 1;
  }

  .bg-image {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -4;              /* video(-3)ë³´ë‹¤ ë’¤ë¡œ */
    background-image: url('https://hancom-inspace.github.io/Newsletter/assets/archive_bg_fallback1.png');
    background-size: cover;
    background-position: center top;
    background-repeat: no-repeat;
    display: none;   /* ë°ìŠ¤í¬í†± ê¸°ë³¸ê°’ */
  }

  .bg-dim{
    position: fixed;
    inset: 0;
    z-index: -2;                  /* âœ… ë¹„ë””ì˜¤/ì´ë¯¸ì§€(-3) ìœ„ */
    background:
      radial-gradient(
        circle at top,
        rgba(0,0,0,0.25) 0%,
        rgba(0,0,0,0.45) 45%,
        rgba(0,0,0,0.65) 100%
      );
    pointer-events: none;
  }

  /* ëª¨ë°”ì¼ */
  @media (max-width: 768px){
    .bg-video{ display: none; }
    .bg-image{
      display: block;
      filter: blur(2px) brightness(0.78) saturate(0.95);
      transform: scale(1.03); /* blur ê°€ì¥ìë¦¬ ê¹¨ì§ ë°©ì§€ */
    }

    /* âœ… ëª¨ë°”ì¼ì—ì„œ í° ê¸€ì”¨ ê°€ë…ì„± ê°•í™”: ë”¤ ì¡°ê¸ˆ ë” */
    .bg-dim{
      background: rgba(0,0,0,0.48);
    }
  }

  .archive-wrap {
    min-height: 100vh;
    padding: 40px 16px 64px 16px;
    background:
      radial-gradient(circle at top,
        rgba(148,163,184,0.25) 0,
        transparent 55%);
  }

  .archive-card-label,
  .archive-card-date{
    text-shadow: 0 1px 6px rgba(0,0,0,0.35);
  }

  .filter-wrap {
    margin: 0 16px 12px 16px;
  }

  .filter-group-label {
    font-size:13px;
    color:#cbd5f5;
    margin-bottom:6px;
    opacity:0.8;
  }

  .chips-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-bottom:6px;
  }

  .chip-base {
    border-radius:9999px;
    border:1px solid rgba(148,163,184,0.6);
    background:rgba(15,23,42,0.6);
    color:#e5e7eb;
    font-size:13px;
    padding:6px 12px;
    cursor:pointer;
    outline:none;
    white-space:nowrap;
    transition:background 0.18s ease, border-color 0.18s ease, transform 0.12s ease, box-shadow 0.12s ease;
  }

  /* âœ… Weekly Focus Insight(ì•„ì¹´ì´ë¸Œ ì¹´ë“œìš©) */
  .archive-card-insight{
    font-size:13px;
    line-height:1.45;
    color:#cbd5e1;
    margin:6px 0 8px 0;
    opacity:0.92;

    display:-webkit-box;
    -webkit-line-clamp:2;
    -webkit-box-orient:vertical;
    overflow:hidden;

    /* âœ… ë‹¨ì–´ ì¤‘ê°„ ì¤„ë°”ê¿ˆ ë°©ì§€ */
    word-break: keep-all;
    overflow-wrap: break-word;
  }

  .chip-base:hover {
    background:rgba(30,64,175,0.7);
    border-color:#60a5fa;
    box-shadow:0 0 0 1px rgba(15,23,42,0.4);
    transform:translateY(-1px);
  }

  .chip-base.active {
    background:#2563eb;
    border-color:#2563eb;
    color:#ffffff;
    box-shadow:0 0 0 1px rgba(15,23,42,0.4);
  }

  .archive-card {
      display:block;
      text-decoration:none;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.55);
      padding:18px 20px;
      background: rgba(255,255,255,0.14);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow:0 10px 28px rgba(15,23,42,0.6);
      transition:transform 0.22s ease, box-shadow 0.22s ease, border-color 0.22s ease, background 0.22s ease;
  }

  .archive-card:hover {
      transform:translateY(-4px);
      background:rgba(255,255,255,0.32);
      box-shadow:0 18px 40px rgba(15,23,42,0.85);
      border-color:rgba(255,255,255,0.95);
  }

  .archive-card-label {
    font-size:17px;
    font-weight:600;
    color:#ffffff;
    margin-bottom:4px;
  }

  .archive-card-date {
    font-size:13px;
    color:#e5e7eb;
  }

  @media (max-width: 768px) {
    .archive-card {
      padding:14px;
    }
  }

  @media (max-width: 768px) {
    .bg-video {
      display: none;
    }

    /* ëª¨ë°”ì¼ì—ì„  ê³ ì • ì´ë¯¸ì§€ ë ˆì´ì–´ë¥¼ ì‚¬ìš© */
    .bg-image {
      display: block;
    }

    /* ëª¨ë°”ì¼ì—ì„œ body ë°°ê²½ì€ ì“°ì§€ ì•ŠìŒ(ì¤‘ë³µ/ìŠ¤í¬ë¡¤ ì´ìŠˆ ë°©ì§€) */
    body {
      background: none;
    }
  }

</style>
</head>

<body>
  <div class="bg-image"></div>

  <video id="bgVideo" class="bg-video" preload="auto" muted playsinline>
    <source src="https://hancom-inspace.github.io/Newsletter/assets/archivebg_1.mp4" type="video/mp4" />
  </video>
  <div class="bg-dim"></div>
  <div class="archive-wrap">
    <center>
      <table width="100%" cellpadding="0" cellspacing="0" border="0" style="max-width:700px; margin:0 auto;">
        <tr>
          <td style="padding:60px 16px 30px 16px; font-size:28px; font-weight:700; color:#f9fafb;">
            ğŸ“š ì´ì „ ë‰´ìŠ¤ë ˆí„° ë‹¤ì‹œë³´ê¸°
          </td>
        </tr>

        <tr>
          <td>
            <div class="filter-wrap">
              <!-- âœ… ë””ìì¸ ìœ ì§€: ê¸°ì¡´ chips-row ê·¸ëŒ€ë¡œ ì‚¬ìš© -->
              <div id="edition-chips" class="chips-row"></div>
              <div id="year-chips" class="chips-row"></div>
              <div id="month-chips" class="chips-row"></div>
            </div>
          </td>
        </tr>

        <tr>
          <td style="padding:4px 16px 8px 16px;">
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
              <tbody>
                
        <tr class="archive-row" data-year="2025" data-month="12" data-edition="daily">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Newsletter/2025daily/12daily/29/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 28ì¼ ì¼ê°„ ë‰´ìŠ¤ë ˆí„°
              </div>

              

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.28
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="daily">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025daily/12daily/29/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 28ì¼ ë°ì¼ë¦¬ ë‰´ìŠ¤
              </div>

              

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.28
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="weekly">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025/12/29/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 5ì£¼ì°¨ ë‰´ìŠ¤ë ˆí„°
              </div>

              
          <div class="archive-card-insight">
            ì´ë²ˆ ì£¼ì—ëŠ” ì§€ë¦¬ê³µê°„ ì •ë³´ì™€ ìœ„ì„± ì˜ìƒ ê¸°ìˆ ì˜ ì „ëµì  ì¸í”„ë¼ ì „í™˜ íë¦„ì´ ê°€ì†ë˜ë©°, ë„ì‹œ ê³„íšê³¼ í™˜ê²½ ê±°ë²„ë„ŒìŠ¤ í˜ì‹ ì´ í•¨ê»˜ ë¶€ìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.
          </div>
        

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.29
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="weekly">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025/12/28/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 4ì£¼ì°¨ ë‰´ìŠ¤ë ˆí„°
              </div>

              
          <div class="archive-card-insight">
            ì´ë²ˆ ì£¼ì—ëŠ” ê³µê°„ì •ë³´ì™€ ìœ„ì„± ì˜ìƒ ê¸°ìˆ ì˜ ì‹¤ì‹œê°„ ë¶„ì„ ì „í™˜ì´ ê°€ì†ë˜ë©°, ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì „ëµì  í™œìš©ê³¼ AI ì ‘ëª©ì´ ê°•í™”ë˜ê³  ìˆìŠµë‹ˆë‹¤.
          </div>
        

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.28
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="weekly">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025/12/27/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 4ì£¼ì°¨ ë‰´ìŠ¤ë ˆí„°
              </div>

              
          <div class="archive-card-insight">
            ì´ë²ˆ ì£¼ì—ëŠ” ì§€ë¦¬ê³µê°„ ë°ì´í„°ì™€ ì²¨ë‹¨ ê¸°ìˆ ì´ ì „ëµì  ì¸í”„ë¼ì™€ ê±°ë²„ë„ŒìŠ¤ë¡œ ì „í™˜ë˜ëŠ” íë¦„ì´ ê°•í™”ë˜ë©°, í–‰ì • í˜ì‹ ê³¼ ì‹¤ì‹œê°„ ì •ë³´ ë¶„ì„ ì—­ëŸ‰ í™•ì‚°ì´ ë‘ë“œëŸ¬ì§€ê³  ìˆìŠµë‹ˆë‹¤.
          </div>
        

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.27
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="weekly">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025/12/26/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 4ì£¼ì°¨ ë‰´ìŠ¤ë ˆí„°
              </div>

              
          <div class="archive-card-insight">
            ì´ë²ˆ ì£¼ì—ëŠ” ì§€ë¦¬ê³µê°„ ì •ë³´ì™€ ìœ„ì„±Â·ë“œë¡  ê¸°ìˆ  ìœµí•©ì´ ì‹¤ì‹œê°„ ë¶„ì„ê³¼ ì „ëµì  ì˜ì‚¬ê²°ì • ì¸í”„ë¼ë¡œ ì „í™˜ë˜ëŠ” íë¦„ì´ ê°€ì†ë˜ë©°, AI ê¸°ë°˜ ë°ì´í„° ì²˜ë¦¬ì™€ ì •ë°€ ëª¨ë‹ˆí„°ë§ ë„ì…ì´ í•¨ê»˜ ë‚˜íƒ€ë‚˜ê³  ìˆìŠµë‹ˆë‹¤.
          </div>
        

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.26
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="weekly">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025/12/25/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 4ì£¼ì°¨ ë‰´ìŠ¤ë ˆí„°
              </div>

              
          <div class="archive-card-insight">
            ì´ë²ˆ ì£¼ì—ëŠ” ì§€ë¦¬ê³µê°„ ì •ë³´ì™€ ìœ„ì„± ì˜ìƒ ê¸°ìˆ ì´ í–‰ì •Â·êµ°ì‚¬Â·í™˜ê²½ ë¶„ì•¼ì—ì„œ ì „ëµì  í•µì‹¬ ìì‚°ìœ¼ë¡œ ë¶€ìƒí•˜ë©° ì •ë°€ ë°ì´í„°ì™€ ì‹¤ì‹œê°„ ë¶„ì„ ì—­ëŸ‰ ê°•í™”ê°€ ê°€ì†ë˜ê³  ìˆìŠµë‹ˆë‹¤.
          </div>
        

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.25
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="weekly">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025/12/24/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 4ì£¼ì°¨ ë‰´ìŠ¤ë ˆí„°
              </div>

              
          <div class="archive-card-insight">
            ì´ë²ˆ ì£¼ì—ëŠ” ì§€ë¦¬ê³µê°„ ì •ë³´ì™€ ë“œë¡  ë°ì´í„°ì˜ ì „ëµì  í™œìš© ì „í™˜ì´ ê°€ì†ë˜ë©°, AI ì ‘ëª©ê³¼ ê±°ë²„ë„ŒìŠ¤ ê°•í™” í•„ìš”ì„±ì´ ë¶€ìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.
          </div>
        

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.24
              </div>
            </a>
          </td>
        </tr>
        

        <tr class="archive-row" data-year="2025" data-month="12" data-edition="weekly">
          <td style="padding-bottom:16px;">
            <a href="https://hancom-inspace.github.io/Weekly-Newsletter/2025/12/23/index.html" class="archive-card">
              <div class="archive-card-label">
                12ì›” 4ì£¼ì°¨ ë‰´ìŠ¤ë ˆí„°
              </div>

              
          <div class="archive-card-insight">
            ì´ë²ˆ ì£¼ì—ëŠ” ê³µê°„ì •ë³´ì™€ ìœ„ì„±ì˜ìƒ, ë“œë¡ , AI ì¸í”„ë¼ ë¶„ì•¼ì—ì„œ ê¸°ìˆ ê³¼ ë°ì´í„°ê°€ ì „ëµì  ìì‚°ìœ¼ë¡œ ì „í™˜ë˜ë©° ì‚°ì—… êµ¬ì¡° ì¬í¸ê³¼ ê±°ë²„ë„ŒìŠ¤ ì „í™˜ì´ ê°€ì†ë˜ê³  ìˆìŠµë‹ˆë‹¤.
          </div>
        

              <div class="archive-card-date">
                ì—…ë¡œë“œ: 2025.12.23
              </div>
            </a>
          </td>
        </tr>
        
              </tbody>
            </table>
          </td>
        </tr>
      </table>
    </center>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', function() {

    // =========================================================
    // 0) ë¹„ë””ì˜¤ ìŠ¤í¬ë¡¤ ìŠ¤í¬ëŸ½(ìŠ¤ë¬´ë”©) â€” í•­ìƒ ë™ì‘
    // =========================================================
    var video = document.getElementById('bgVideo');

    if (video) {
      try { video.pause(); } catch (e) {}

      var duration = 0;
      var ready = false;

      // âœ… ì˜µì…˜ A íŒŒë¼ë¯¸í„°
      var SCRUB_PORTION = 0.25;
      var EASE_GAMMA = 1.6;

      // âœ… ìŠ¤ë¬´ë”© íŒŒë¼ë¯¸í„°
      var SMOOTHING = 0.12; // 0.08~0.2 ì¶”ì²œ

      var targetTime = 0;
      var smoothTime = 0;
      var animating = false;

      function calcTargetTimeFromScroll() {
        if (!ready || !duration) return;

        var doc = document.documentElement;
        var scrollTop = window.pageYOffset || doc.scrollTop || 0;
        var maxScroll = (doc.scrollHeight - window.innerHeight);

        var VIRTUAL_SCROLL_PX = 2600;
        var denom = Math.max(1, Math.max(maxScroll, VIRTUAL_SCROLL_PX));

        var p = scrollTop / denom;
        if (p < 0) p = 0;
        if (p > 1) p = 1;

        // âœ… ëê¹Œì§€ ë„ë‹¬ ë³´ì •
        var scale = (maxScroll > 0) ? (denom / maxScroll) : 1;
        var desired = p * duration * scale;

        if (desired < 0) desired = 0;
        if (desired > duration) desired = duration;
        if (scale > 2.5) scale = 2.5;

        targetTime = desired;

        // ìŠ¤í¬ë¡¤ ì†ë„ ê¸°ë°˜ ìŠ¤ë¬´ë”© ì¡°ì ˆ
        if (!window.__bgScrubState) {
          window.__bgScrubState = { lastScrollTop: scrollTop, lastTs: performance.now() };
        }

        var st = window.__bgScrubState;
        var now = performance.now();
        var dt = Math.max(1, now - st.lastTs);
        var ds = Math.abs(scrollTop - st.lastScrollTop);

        var v = ds / dt; // px/ms

        var minS = 0.06;
        var maxS = 0.28;
        var dynamic = minS + (v * 0.10);
        if (dynamic > maxS) dynamic = maxS;

        SMOOTHING = dynamic;

        st.lastScrollTop = scrollTop;
        st.lastTs = now;
      }

      function applyTime(t) {
        // âœ… 30fps ê¸°ì¤€ìœ¼ë¡œ í”„ë ˆì„ ë‹¨ìœ„ ì–‘ìí™” â†’ ë¶ˆí•„ìš”í•œ ë¯¸ì„¸ ì‹œí‚¹ ê°ì†Œ
        var FRAME_STEP = 1 / 30;
        t = Math.round(t / FRAME_STEP) * FRAME_STEP;

        var EPS = FRAME_STEP;
        if (Math.abs((video.currentTime || 0) - t) < EPS) return;

        try {
          if (typeof video.fastSeek === 'function') {
            video.fastSeek(t);
          } else {
            video.currentTime = t;
          }
        } catch (e) {}
      }

      function animate() {
        if (!animating) return;

        smoothTime = smoothTime + (targetTime - smoothTime) * SMOOTHING;
        applyTime(smoothTime);

        window.requestAnimationFrame(animate);
      }

      function startAnimLoop() {
        if (animating) return;
        animating = true;
        smoothTime = video.currentTime || 0;
        window.requestAnimationFrame(animate);
      }

      function onMetaReady() {
        duration = video.duration || 0;
        ready = duration > 0;

        calcTargetTimeFromScroll();
        startAnimLoop();
      }

      video.addEventListener('loadedmetadata', onMetaReady);

      if (video.readyState >= 1) {
        onMetaReady();
      } else {
        try { video.load(); } catch (e) {}
      }

      var pendingScroll = false;

      function onScrollRAF() {
        if (!pendingScroll) return;
        pendingScroll = false;

        calcTargetTimeFromScroll();
        startAnimLoop();
      }

      window.addEventListener('scroll', function () {
        pendingScroll = true;
        window.requestAnimationFrame(onScrollRAF);
      }, { passive: true });

      window.addEventListener('resize', function() {
        calcTargetTimeFromScroll();
      });
    }

    // =========================================================
    // 1) ì—°/ì›”/edition í•„í„° â€” ì—†ìœ¼ë©´ í•„í„°ë§Œ ìŠ¤í‚µ
    // =========================================================
    var rows = Array.prototype.slice.call(document.querySelectorAll('.archive-row'));
    var editionContainer = document.getElementById('edition-chips');
    var yearContainer = document.getElementById('year-chips');
    var monthContainer = document.getElementById('month-chips');

    if (!rows.length || !editionContainer || !yearContainer || !monthContainer) {
      return;
    }

    // edition ìƒíƒœ ì¶”ê°€
    var yearSet = new Set();
    var yearMonthMap = {};

    rows.forEach(function(row) {
      var y = row.getAttribute('data-year');
      var m = parseInt(row.getAttribute('data-month') || '0', 10);
      if (!y) return;

      yearSet.add(y);

      if (!yearMonthMap[y]) {
        yearMonthMap[y] = new Set();
      }
      if (m > 0) {
        yearMonthMap[y].add(m);
      }
    });

    var years = Array.from(yearSet).sort();

    var today = new Date();
    var currentYear = String(today.getFullYear());

    var state = {
      edition: 'all',
      year: yearSet.has(currentYear) ? currentYear : 'all',
      month: null
    };

    monthContainer.style.display = 'none';

    // -------------------------
    // edition chips (ì „ì²´/ì£¼ê°„/ë°ì¼ë¦¬)
    // -------------------------
    function createEditionChip(value, label) {
      var btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'chip-base edition-chip';
      btn.setAttribute('data-edition', value);
      btn.textContent = label;

      btn.addEventListener('click', function() {
        state.edition = value;
        updateView();
      });

      return btn;
    }

    editionContainer.appendChild(createEditionChip('all', 'ì „ì²´'));
    editionContainer.appendChild(createEditionChip('weekly', 'ì£¼ê°„'));
    editionContainer.appendChild(createEditionChip('daily', 'ë°ì¼ë¦¬'));

    // -------------------------
    // year/month chips (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
    // -------------------------
    function createYearChip(value, label) {
      var btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'chip-base year-chip';
      btn.setAttribute('data-year', value);
      btn.textContent = label;

      btn.addEventListener('click', function() {
        state.year = value;
        state.month = null;

        if (value === 'all') {
          clearMonthChips();
        } else {
          renderMonthChipsForYear(value);
        }

        updateView();
      });

      return btn;
    }

    function createMonthChip(monthNumber) {
      var btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'chip-base month-chip';
      btn.setAttribute('data-month', String(monthNumber));
      btn.textContent = monthNumber + 'ì›”';

      btn.addEventListener('click', function() {
        state.month = monthNumber;
        updateView();
      });

      return btn;
    }

    function clearMonthChips() {
      monthContainer.innerHTML = '';
      monthContainer.style.display = 'none';
    }

    function renderMonthChipsForYear(year) {
      monthContainer.innerHTML = '';

      var monthSet = yearMonthMap[year];
      if (!monthSet || monthSet.size === 0) {
        monthContainer.style.display = 'none';
        return;
      }

      var months = Array.from(monthSet);
      months.sort(function(a, b) { return a - b; });

      months.forEach(function(m) {
        monthContainer.appendChild(createMonthChip(m));
      });

      monthContainer.style.display = 'flex';
    }

    function updateView() {
      rows.forEach(function(row) {
        var rowEdition = row.getAttribute('data-edition') || 'weekly';
        var rowYear = row.getAttribute('data-year');
        var rowMonth = parseInt(row.getAttribute('data-month') || '0', 10);

        var editionMatch = (state.edition === 'all') || (rowEdition === state.edition);
        var yearMatch = (state.year === 'all') || (rowYear === state.year);

        var monthMatch;
        if (state.year === 'all') {
          monthMatch = true;
        } else if (!state.month) {
          monthMatch = true;
        } else {
          monthMatch = (rowMonth === state.month);
        }

        row.style.display = (editionMatch && yearMatch && monthMatch) ? '' : 'none';
      });

      document.querySelectorAll('.edition-chip').forEach(function(chip) {
        var v = chip.getAttribute('data-edition');
        chip.classList.toggle('active', v === state.edition);
      });

      document.querySelectorAll('.year-chip').forEach(function(chip) {
        var y = chip.getAttribute('data-year');
        chip.classList.toggle('active', y === state.year);
      });

      document.querySelectorAll('.month-chip').forEach(function(chip) {
        var m = parseInt(chip.getAttribute('data-month') || '0', 10);
        var isActive = (state.year !== 'all') && (state.month === m);
        chip.classList.toggle('active', isActive);
      });
    }

    var allYearChip = createYearChip('all', 'ì „ì²´');
    yearContainer.appendChild(allYearChip);

    years.forEach(function(y) {
      yearContainer.appendChild(createYearChip(y, y + 'ë…„'));
    });

    if (state.year !== 'all') {
      renderMonthChipsForYear(state.year);
    } else {
      clearMonthChips();
    }

    updateView();
  });
</script>

</body>
</html>
